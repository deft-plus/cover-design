@mixin with-theme($theme) {
  // All the different spacers for margins and paddings.
  $spacing: (
    '0': var(--space-0),
    '1': var(--space-1),
    '2': var(--space-2),
    '3': var(--space-3),
    '4': var(--space-4),
    '5': var(--space-5),
    '6': var(--space-6),
    'auto': auto,
  );

  // Use the $spacing variable to create shorthand margin and padding utility classes.
  @each $key, $value in $spacing {
    .m {
      &-#{$key} {
        margin: $value !important;
      }
      &t-#{$key} {
        margin-top: $value !important;
      }
      &r-#{$key} {
        margin-right: $value !important;
      }
      &b-#{$key} {
        margin-bottom: $value !important;
      }
      &l-#{$key} {
        margin-left: $value !important;
      }
      &x-#{$key} {
        margin-right: $value !important;
        margin-left: $value !important;
      }
      &y-#{$key} {
        margin-top: $value !important;
        margin-bottom: $value !important;
      }
    }

    .p {
      &-#{$key} {
        padding: $value !important;
      }
      &t-#{$key} {
        padding-top: $value !important;
      }
      &r-#{$key} {
        padding-right: $value !important;
      }
      &b-#{$key} {
        padding-bottom: $value !important;
      }
      &l-#{$key} {
        padding-left: $value !important;
      }
      &x-#{$key} {
        padding-right: $value !important;
        padding-left: $value !important;
      }
      &y-#{$key} {
        padding-top: $value !important;
        padding-bottom: $value !important;
      }
    }
  }
}
